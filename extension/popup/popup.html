<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>FilterGenie</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <header>
      <h1>FilterGenie</h1>
    </header>
    <main>
      <div id="filtergenie-message" role="alert" aria-live="polite"></div>
      <form id="filters-form" autocomplete="off">
        <fieldset>
          <legend>Filters</legend>
          <div>
            <input
              type="text"
              id="filter-input"
              placeholder="Enter filter"
              autocomplete="off"
              aria-label="Filter"
            />
            <button type="button" id="add-filter">Add filter</button>
          </div>
          <ul id="filters-list" aria-label="Current filters"></ul>
          <button type="button" id="apply-filters">Apply filters</button>
          <button type="button" id="reset-filters">Reset filters</button>
        </fieldset>
        <fieldset>
          <legend>Filter options</legend>
          <label for="min-match">
            Min. matching filters:
            <br />
            <input type="range" id="min-match" min="0" value="0" />
            <span id="min-match-value">0</span>
          </label>
          <br />
          <label for="max-items">
            Max items:
            <input type="number" id="max-items" min="1" value="10" />
          </label>
        </fieldset>
      </form>
      <hr />
      <details id="settings-expander">
        <summary>Settings</summary>
        <fieldset>
          <legend class="visually-hidden"></legend>
          <div>
            <label for="api-endpoint">
              API endpoint:
              <input
                type="text"
                id="api-endpoint"
                value="http://localhost:8000"
                autocomplete="off"
              />
            </label>
          </div>
          <div>
            <label for="api-key">
              API key:
              <input type="text" id="api-key" autocomplete="off" />
            </label>
          </div>
          <button type="button" id="save-settings">Save</button>
          <span id="settings-saved" hidden>Saved!</span>
          <br />
          <button type="button" id="api-health-btn">Check API health</button>
          <span id="health-status"></span>
        </fieldset>
      </details>
      <hr />
      <div class="footer-row">
        <span class="footer-author">Made by Daniel Altunay</span>
        <nav id="social-links" aria-label="Social links">
          <a
            href="https://github.com/daltunay/filtergenie"
            target="_blank"
            rel="noopener"
            aria-label="GitHub"
          >
            <img
              src="../assets/social/github.png"
              alt="GitHub"
              width="16"
              height="16"
            />
          </a>
          <a
            href="https://www.linkedin.com/in/daltunay/"
            target="_blank"
            rel="noopener"
            aria-label="LinkedIn"
          >
            <img
              src="../assets/social/linkedin.png"
              alt="LinkedIn"
              width="16"
              height="16"
            />
          </a>
        </nav>
      </div>
    </main>
    <script src="../src/platform-registry.js"></script>
    <script src="../src/api-settings.js"></script>
    <script src="../platforms/leboncoin.js"></script>
    <script src="../platforms/vinted.js"></script>
    <script type="module" src="popup.js"></script>
  </body>
</html>
