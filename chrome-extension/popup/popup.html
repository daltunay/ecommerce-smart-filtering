<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartFilter</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <header class="header">
      <h1>Smart<span>Filter</span></h1>
      <p class="header-tagline">Find what you're looking for, naturally</p>
    </header>

    <main class="main">
      <!-- Site compatibility status -->
      <section id="site-status" class="status-section">
        <div id="status-icon" class="status-icon" aria-hidden="true">
          <!-- Icon will be inserted by JS -->
        </div>
        <div class="status-text">
          <h3>Current site: <span id="current-site">Checking...</span></h3>
          <p id="site-message">Detecting compatible e-commerce site...</p>
        </div>
      </section>

      <!-- Filter configuration panel -->
      <section id="filter-panel" class="panel" style="display: none">
        <!-- Filters -->
        <h2 class="panel-title">Filters</h2>
        <div id="filter-list" class="filter-list"></div>
        <button id="add-filter-btn" class="btn btn-add">
          <svg
            class="btn-icon"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 4.5v15m7.5-7.5h-15"
            />
          </svg>
          Add Filter
        </button>

        <!-- Settings -->
        <h2 class="panel-title">Settings</h2>

        <!-- Products to analyze -->
        <div class="setting">
          <div class="setting-header">
            <label for="max-items">Products to analyze</label>
            <div
              class="tooltip"
              data-tip="Controls how many products will be analyzed. Higher values give more results but take longer."
            ></div>
          </div>
          <div class="number-input">
            <input type="number" id="max-items" min="1" max="10" value="5" />
            <div class="number-buttons">
              <button id="increase-max">▲</button>
              <button id="decrease-max">▼</button>
            </div>
          </div>
        </div>

        <!-- Filter threshold -->
        <div class="setting">
          <div class="setting-header">
            <label>Filter match requirement</label>
            <div
              class="tooltip"
              data-tip="Products must match at least this many criteria to be highlighted."
            ></div>
          </div>
          <div class="slider-container">
            <input
              type="range"
              id="filter-threshold"
              min="0"
              max="5"
              value="1"
            />
            <span id="threshold-value" class="value-display"
              >At least 1 criterion</span
            >
          </div>
        </div>

        <!-- Actions -->
        <div class="actions">
          <button id="apply-btn" class="btn btn-primary">
            <svg
              class="btn-icon"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            Apply Filters
          </button>
          <button id="reset-btn" class="btn btn-secondary">
            <svg
              class="btn-icon"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"
              />
            </svg>
            Reset
          </button>
        </div>

        <!-- Results summary -->
        <div id="results-counter" class="results-counter">
          <span>No filters applied yet</span>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-author">
        <span>Made by Daniel Altunay</span>
      </div>
      <div class="social-links">
        <a href="https://github.com/daltunay/ecommerce-smart-filtering" target="_blank" class="social-link">
          <img src="../images/github.png" alt="GitHub" />
        </a>
        <a href="https://www.linkedin.com/in/daltunay/" target="_blank" class="social-link">
          <img src="../images/linkedin.png" alt="LinkedIn" />
        </a>
      </div>
    </footer>

    <script src="popup.js"></script>
  </body>
</html>
